
<HEAD><TITLE>The "thermo" datatype.</TITLE></HEAD>
<BODY bgcolor=add8e6>
<HR>
<font color=blue><a name="thermo"><code><b>thermo</b> command, address, index</code></a></font>
<P>
Send commands to the thermometry task.
<P>
<DL>
<DT> Arguments:<DD> 
<p>
     <DL>
     <DT><code><b><a href=../dataTypes/DsCommand.html>DsCommand</a> command</b></code>
     <DD> The command to send.
     <DT><code><b><a href=RomId.html>RomId</a> address</b></code>
     <DD> An optional ROM id of a device to be addressed.
     <DT><code><b><a href=../dataTypes/Integer.html>Integer</a> index</b></code>
     <DD> An optional index into the thermo.temp register
     </DL>
<p>
<dt> Examples: <dd>
<p>

To read a temperature from the device with address 7A00000033C7A210, use:
<dl>
<dt><p>
    <code>
<dd>thermo read, address=7A00000033C7A210
    </code>
    <p>
</dl>
To associate the device with address 7A00000033C7A210 with index 0 of the <code>thermo.temp</code> register:
<dl>
<dt><p>
    <code>
<dd>thermo romid, address=7A00000033C7A210, index=0
    </code>
    <p>
</dl>
To flag the device with address 7A00000033C7A210 as unreachable:
<dl>
    <p>
<dd><code>
    thermo flag, address=7A00000033C7A210
    </code>
    <p>
</dl>

<DT> Context: <DD> 
<p>
The thermo task currently controls up to 30 DS1820/DS1920 digital
thermometers attached to a DS2480 line driver controlled by a HA5
RS232 to 1-wire host adaptor.  These devices can measure temperatures
from -55 C to +125 C, with resolution of 0.5 C (they claim slightly
higher resolution can be obtained, but I'm not sure this is presently
handled correctly).

<P> Currently, there are 24 monitor points:
<p>
<ul>
 <li>four inside the mount on the deck ring
 <li>one inside the correlator crate
 <li>one on the downconverter crate
 <li>one on each of the compressor room glycol supply and return lines
 <li>one in the air-mixing box in the compressor room
 <li>one on each of the glycol supply and return lines on each compressor
 <li>one internal to each compressor
</ul>
<p>
Temperatures can be read manually, by using the <code>read</code> or
<code>readall</code> options of the <a
href=../dataTypes/DsCommand.html>DsCommand</a> argument, or automatically at an
interval set by the <a
href=thermo_readout_interval.html>thermo_readout_interval</a> command.
<p>
Note that each DS1820 sensor takes approximately 0.5 second to convert
its temperature, hence the total readout time increases by
approximately 0.5 second with each device added to the bus.  For
example, with 24 devices, the thermo task takes approximately 12
seconds to read all devices.
<p>
To read one or more of the sensors at a higher rate, you can use the
<code>flag</code> option of the <a href=../dataTypes/DsCommand.html>DsCommand</a>
argument to prevent other devices from being read on the interval
timer.
<p>
See help on <a href=../dataTypes/DsCommand.html>DsCommand</a> for an explanation of
the various arguments.
</DL>

<HR>
Erik Leitch (Tue Mar 30 21:16:54 PST 2004)
</BODY>





