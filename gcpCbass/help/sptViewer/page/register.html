<HEAD><TITLE>Displaying a register value in a page.</TITLE></HEAD>
<BODY bgcolor="#add8e6">
<center><a href=index.html>Index</a></center>
<HR>
<center><H1>Displaying a register value in a page.</H1></center>

To have the dynamically changing value of a control system register
displayed in a page involves finding an unoccupied cell at the desired
location, clicking the right mouse over it to bring up the <em>Field
Create</em> menu, and selecting its <b>Register</b>
entry. Alternatively, if the target cell is already displaying another
register value, then clicking the right mouse button over it will
bring up a menu that allows you to change which register is displayed
there. If the cell contains a label, then to display a register there
you would first have to either delete the label by clicking the right
mouse button over it and selecting the <b>Delete Field</b> option, or
you could use the mouse to <a href=drag.html>move</a> it to
another cell.

<P>
<H2>The register configuration dialog</H2>

The configuration dialog that is displayed when you create or modify a
label, allows you to select the <a href=colors.html>color</a> of the
background of the field, the <a href=colors.html>color</a> of the text
displaying the value of the register, where to display the values
within the field, the register to be monitored, the textual format to
use to display the value, whether to allocate place for a sign
character when a number is positive, whether to highlight out-of-range
values, the range of values that are to be considered as within range,
and three other attributes that depend on the selected display format.

<H3>Justifying the text within the field</H3>

The position of the text within the field is specified via the
&quot;justify&quot; option menu button. Clicking on this button brings
up a menu of possible positions. The options are to center the text
within the field, left justify it, or right justify it.

<H3>Register specification</H3>

The easiest way to specify the register to be displayed is to click on
the green <code>list</code> button next to the register entry field.
This results in a menu of board names being displayed, and when the
mouse is placed over one of these board names, a sub-menu is displayed
that displays the names of the registers on that board. Selecting one
of these registers results in the corresponding register specification
being written into the register specification field.

<P>

Except when <a href=#string>string</a> and <a href=#date>date</a>
formats are being used, register specifications should refer to a
single element of a register. Thus if the selected register contains
an array of values, you should specify the index of the register to
display. For example, in the SPT, the <code>antenna0.tracker.actual[0]</code> register
is actually an array of 50 values. To show element 5, one would
specify, <code>antenna0.tracker.actual[0][5]</code>.

<H3>The provided display formats</H3>
<UL>

<LI><b>fixed-point</b>
<BR>
Display floating point numbers with a fixed number of digits after the
decimal point. A text-entry field is provided for specifying the
number of digits to be displayed after the decimal point.

<LI><b>scientific</b>
<BR>
Display floating point numbers in scientific notation, with one figure
before the decimal point, a specified number of digits after the
decimal point and a power-of-ten exponent introduced by an 'E'. For
example -0.015, would be displayed as -1.5e-2. A text entry field is
provided for specifying the number of digits to display after the
decimal point.

<LI><b>floating</b>
<BR>
Display the specified number of significant figures of a floating point
number, automatically switching to scientific notation when the number
becomes too large or small to display sensibly. The number of
significant figures is specified via a text entry field.

<LI><b><a name=sexagesimal>sexagesimal</a></b>
<BR>
Display a floating point number in sexagesimal format. The number is
displayed like <code>hh:mm:ss.sss</code>, prefixed with a minus sign
when negative.  The <code>hh</code> component displays the integer
part of the number, and the <code>mm</code> and <code>ss.ss</code>
components display the fractional part in 60ths and 3600ths
respectively. In the <code>ss.sss</code> field, the number of digits
after the decimal point is specified via a text entry field.

<LI><b>integer</b>
<BR>
Display the integer part of the number in base 10. To prevent changes
in the number of digits from causing the number to move around in the
field while left justified or centered, one can specify a minimum
width for the number. Spaces are then prepended to the number to fill
up to the specified width, and the length of the resulting padded
number used for centering and justifying. As long as the number of
digits doesn't exceed this length, the number thus won't move within
the field.

<LI><b>hex</b>
<BR>
Display the integer part of the number in hexadecimal (base 16). To
prevent changes in the number of digits from causing the number to
move around in the field while left justified or centered, one can
specify a minimum width for the number. Spaces are then prepended to
the number to fill up to the specified width, and the length of the
resulting padded number is used for centering and justifying. As long
as the number of digits doesn't exceed this length, the number thus
won't move within the field.

<LI><b>octal</b>
<BR>
Display the integer part of the number in octal (base 8). To prevent
changes in the number of digits from causing the number to move around
in the field while left justified or centered, one can specify a
minimum width for the number. Spaces are then prepended to the number
to fill up to the specified width, and the length of the resulting
padded number is used for centering and justifying. As long as the
number of digits doesn't exceed this length, the number thus won't
move within the field.

<LI><b>binary</b>
<BR>
Display the integer part of the number in binary (base 2). To prevent
changes in the number of digits from causing the number to move around
in the field while left justified or centered, one can specify a
minimum width for the number. Spaces are then prepended to the number
to fill up to the specified width, and the length of the resulting
padded number is used for centering and justifying. As long as the
number of digits doesn't exceed this length, the number thus won't
move within the field.

<LI><b><a name=string>string</a></b>
<BR>
This format is the only one that should be used with registers that
contain strings. The register should be specified without any array
indexes, because the characters of strings are encoded into all of the
elements of the register.

<LI><b><a name=date>date</a></b>
<BR>
Use this format with <code>utc</code> registers. These registers
consist of two elements, one specifying the integer Modified Julian
Day number, while the second element contains the time of day as a
number of seconds. To combine these to form a date and time that can
be displayed with the <code>date</code> format, the name of the
register should be suffixed with &quot;.date&quot;. For example, the
<code>frame.utc</code> register should be specified as
<code>frame.utc.date</code>. Note that if you only want to display the
time part, you should use the <a href=#sexagesimal>sexagesimal</a>
format and specify the register as <code>frame.utc.time</code>.

<LI><b><a name=bit>bit</a></b>
<BR>
This format is used to extract and display the logical state of a
given bit within a 32-bit integer. To give the two logical states
names that will be displayed when the specified bit has a particular
value, specify the two names separated by a comma in the text entry
field that is labeled &quot;Names for values 0,1:&quot;

<LI><b><a name=enum>enum</a></b>
<BR>
This format is used with the integer part of a register value to
assign names to each of a number of consecutive integer values
starting from 0. The names are specified in the text entry field,
which is labeled &quot;Names for 0,1,2..:&quot;, with each name
separated from the next with a comma. For example, if one has a
register that can have the values 0,1,2,3, one could specify the names
as <code>zero,one,two,three</code>. Thereafter when the register had
the value 2, the string, <code>two</code> would be displayed. Note
that since commas are used as separators, spaces can be included in
the names. If the register ever takes on a value that isn't covered by
the list of names, it will be displayed as an integer.

</UL>

<H3><a name=warn>Enabling warnings for out of range values</a></H3>

To provide some indication of when a register value is outside of its
optimum range, you can specify that a colored border be drawn when
this range is exceeded. By default this border is drawn in red, but
this is <a href=gen.html#warn>configurable</a> via the page
configuration dialog.
<P>
The range of valid values is specified in two numeric entry fields.
Although these must be specified as numbers, this doesn't prevent this
facility from being used with the <a href=#enum>enum</a> and <a
href=#bit>bit</a> formats, because these formats simply give names to
underlying numbers.
<P>
Having specified a range of values, depress the button that says,
&quot;Highlight field values that are out of range.&quot;.

<HR>
Erik Leitch (4-Nov-1999)
</BODY>
