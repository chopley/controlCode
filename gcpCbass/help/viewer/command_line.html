<HEAD><TITLE>The sptViewer command-line arguments</TITLE></HEAD>
<BODY bgcolor=add8e6>
<center><a href=index.html>Index</a></center>
<HR>
<H1>The sptViewer command-line arguments.</H1>

There are 4 sets of alternate command line options depending on what
one is trying to achieve.

<OL>
<LI> To just start up the viewer without specifying an initial
     configuration and without specifying a source of data to be
     displayed, type:
<P>
<pre>
 sptViewer
</pre>

<LI> To start up the viewer with a specified configuration file, but
     without specifying a source of data, type:
<P>
<pre>
 sptViewer [options] configure <u>configuration_file</u>
</pre>

<LI> To start up the viewer, optionally with a given configuration
     file, and have it receive live data from the control program,
     type:
<P>
<pre>
 sptViewer [options] monitor <u>hostname</u> [<u>configuration_file</u>]
</pre>

<LI> To start up the viewer with a specified configuration file,
     and have it read data from the archive, type:
<P>
<pre>
 sptViewer [options] read <u>start_time</u> <u>end_time</u> <u>configuration_file</u>
</pre>

Note that if the start time is specified as an empty string
(&quot;&quot;), the earliest time available in the archive is
substituted. Similarly if the end-time is given as an empty string,
the latest time available in the archive is substituted.
<P>
To have the viewer start by reading to the end of the archive data,
then switch to receiving live monitor data from the control program,
specify the name of the control program computer in the end_time
field. For example:

<pre>
  sptViewer read 4-Nov-1999:23:30 vega ~spt/conf/observe.cnf
</pre>

would read all data from 4-nov-1999 at 23:30 UTC to the end of the
archived data. Then it would attempt to connect to the control program
on a computer called vega. This allows one to prime one's live
monitoring plots with preceding data from the archive.

</OL>

<P>
<H2>Options</H2>

All of the above alternatives for starting the viewer program can take
a number of optional arguments, some of them having values, while
others are just flags.

<DL>
<DT> -help
<DD> Print this help information.
<DT> <a name=arcdir>-arcdir <u>directory</u></a>
<DD> This can be used to specify a different directory in which
     to search for archive files. If this isn't specified, archive
     files are looked for in the directory named by the GCP_ARC_DIR
     environment variable.
<DT> -bufsize <u>number of elements</u>
<DD> This sets the size of the buffer which is used to maintain
    plotted data in memory. The size is specified as the number of
    register values that can be stored. By default this is 500000.
    These 500000 elements are then divided up between all of the
    registers that are being plotted. For example, if one were to have
    4 graphs, each one displaying a single register then these 4
    registers plus the x-axis register constitute 5 registers to be
    stored per snapshot received from the control program. Thus one
    could display 100000 points per graph. After this point, the
    oldest data is deleted to make way for new data as it arrives.
    So, clearly the larger you make this buffer, the more data you
    will be able to display. Unfortunately enlarging the buffer
    doesn't come without consequences. Excessive memory usage can make
    the computer thrash when you replot a graph, and replotting or
    zooming a graph with a lot of points can be painfully slow.
<DT> -calfile <u>filename</u>
<DD> By default calibration data are read from $GCP_DIR/conf/cal.
     This flag can be used to specify a different calibration file.
</DL>

<H2>Environment variables</H2>

The following environment variables effect the operation of the
viewer:

<DL>
<DT>GCP_DIR
<DD>This variable should contain the directory at the top of the GCP
    directory tree. Currently this is only used to set the default
    calibration file to <code>$GCP_ARC_DIR/conf/cal</code>.
<DT>GCP_ARC_DIR
<DD>This optional variable specifies the default directory in which to
    search for archive files. If it isn't set to anything, the current
    working directory is assumed unless the <a
    href=#arcdir>-arcdir</a> flag is presented.
</DL>

<HR>
Erik Leitch (4-Nov-1999)
</BODY>
